<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ â€” Ú¯Ø²Ø§Ø±Ø´ Ø±Ø§ÛŒÚ¯Ø§Ù† ÙÙˆØ±ÛŒ</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f0faf6;
    --card:#ffffff;
    --accent:#0b67b2;
    --accent2:#ff8a00;
    --success:#2e7d32;
    --danger:#d32f2f;
    --purple:#7b1fa2;
    --yellow:#f9a825;
    --muted:#666;
    font-family: Vazirmatn, Tahoma, Arial, sans-serif;
  }
  /* Ú©Ù„ÛŒ */
  html,body{height:100%}
  body{background:var(--bg);direction:rtl;margin:0;padding:18px;color:#111; -webkit-font-smoothing:antialiased}
  .wrap{max-width:1100px;margin:12px auto;background:var(--card);border-radius:12px;padding:18px;box-shadow:0 12px 30px rgba(0,0,0,0.06)}
  h1{text-align:center;color:var(--accent);margin:6px 0 12px}
  p.lead{color:var(--muted);text-align:center;margin-top:0}
  .flex{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  label{font-weight:600}
  input[type="text"],input[type="number"],select{padding:10px;border-radius:8px;border:1px solid #ddd;font-size:15px}
  .questions{margin-top:12px}
  .question{padding:12px;border-bottom:1px solid #f0f0f0}
  .qtext{font-weight:600;margin-bottom:6px}
  .options label{margin-left:12px;font-weight:500;display:inline-block}
  .controls{margin-top:14px;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  button{background:var(--accent);color:#fff;border:0;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:600}
  button.secondary{background:#555}
  .result{margin-top:18px;padding:14px;border-radius:10px;background:linear-gradient(180deg,#fbfffc,#f0fff6);border:1px solid #e6f6ea}
  table{width:100%;border-collapse:collapse;margin-top:10px}
  th,td{padding:8px;border:1px solid #e9f7ef;text-align:center}
  th{background:#eefaf4;font-weight:700}
  .charts{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
  canvas{background:#fff;border-radius:8px;padding:8px}
  .social{margin-top:18px;text-align:center;padding:12px;border-radius:8px;background:#fff}
  .social p{margin:6px 0;color:#333;font-weight:600}
  .qrwrap{display:flex;gap:12px;justify-content:center;align-items:center;flex-wrap:wrap}
  .recommend{background:#fff;padding:10px;border-radius:8px;border:1px solid #f0f0f0;margin-top:8px}
  .hide{display:none}
  .shareBtns{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:12px}
  .shareBtns button{padding:8px 10px;border-radius:8px;font-weight:700}
  .muted{color:var(--muted)}
  /* Ù…ÙˆØ¨Ø§ÛŒÙ„-friendly */
  @media(max-width:900px){
    .charts{grid-template-columns:1fr}
    input[type="text"],input[type="number"],select{font-size:16px}
    .qtext{font-size:15px}
  }

  /* Ù…Ø­Ø§ÙØ¸Øª Ø³Ø§Ø¯Ù‡ (Ø¨Ø§Ø²Ø¯Ø§Ø±Ù†Ø¯Ù‡ Ú©Ù¾ÛŒ Ø¢Ø³Ø§Ù†) */
  /* ØªÙˆØ¬Ù‡: Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø¨Ø§Ø¹Ø« Ø§Ù…Ù†ÛŒØª Ø³ÙˆØ±Ø³ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ - ÙÙ‚Ø· Ù…Ø§Ù†Ø¹ Ø³Ø§Ø¯Ù‡â€ŒØ§Ù†Ø¯ */
  html { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
  input, select, button, textarea, .result { -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; }

</style>
</head>

<body>
  <div class="wrap">
  <h1 style="background-color:#d3f791; padding: 10px; text-align: center; font-family: Vazirmatn, sans-serif;">
  Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ù†Ø¬Ø´ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ - Ø±Ø§ÛŒÚ¯Ø§Ù†
</h1>

<div style="display: flex; justify-content: space-between; background-color: #a8b9ed; color: #ffffff; font-size: 12px; padding: 5px 10px; font-family: Vazirmatn, sans-serif;">
  <span>Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø·: Ø³Ù…ÛŒÙ‡ Ø¢Ø²Ø§Ø¯</span>
  <span>Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± ØªØ¦ÙˆØ±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨</span>
</div>

   
<div class="intro" style="background:#FFE4E1 ;padding:12px;border-radius:8px;margin-bottom:12px;text-align:center"> 
  <p style="margin:4px 0;color:#4d0033"> ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ Ø¢Ú¯Ø§Ù‡Ø§Ù†Ù‡ Ùˆ Ø­Ù…Ø§ÛŒØªÚ¯Ø± Ø¨Ø§Ø¹Ø« Ø±Ø´Ø¯ Ø´Ø®ØµÛŒØª Ùˆ Ø§Ø¹ØªÙ…Ø§Ø¯Ø¨Ù‡â€ŒÙ†ÙØ³ ÙØ±Ø²Ù†Ø¯ØªØ§Ù† Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¨Ø§ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø§ÛŒÙ† Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¯Ù‡ÛŒØ¯. 
  </p> 
  <p style="margin:4px 0;color:#4d0033"> Ù…Ù†Ø§Ø³Ø¨ ÙˆØ§Ù„Ø¯ÛŒÙ† Ø¯Ø§Ø±Ø§ÛŒ ÙØ±Ø²Ù†Ø¯ 6 Ø§Ù„ÛŒ 18 Ùˆ Ø­ØªÛŒ Ø¨Ø§Ù„Ø§ØªØ±  </p>
  <p style="font-size:16px; color:#4d0033;">

  Ø§Ú¯Ø± Ø§ÛŒÙ† Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø¨Ø±Ø§ÛŒØªØ§Ù† Ù…ÙÛŒØ¯ Ø¨ÙˆØ¯ØŒ Ø¨Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù† Ù…Ù† Ø¯Ø± Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø­Ù…Ø§ÛŒØªÙ… Ú©Ù†ÛŒØ¯:
  </p>


  <div class="shareBtns" style="justify-content:center;margin-top:8px"> 
  <a href="https://instagram.com/drsomayeazad" target="_blank">Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</a> |
  <a href="https://t.me/donyayematloob1" target="_blank">ØªÙ„Ú¯Ø±Ø§Ù…</a> |
   <a href=" https://eitaa.com/donyayematloob" target="_blank">Ø§ÛŒØªØ§</a> |
    <a href="https://wa.me/989335556292" target="_blank">ÙˆØ§ØªØ³Ø§Ù¾</a> |
<a href="#" onclick="shareLink(event)">ğŸ“¤ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡</a>

<script>
function shareLink(e) {
  e.preventDefault(); // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¨Ø§Ø² Ø´Ø¯Ù† Ù„ÛŒÙ†Ú© Ø®Ø§Ù„ÛŒ

  const url = "https://somayeazad121.github.io/parenting-survey/";
  const title = "Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ";
  const text = "Ø¨ÛŒØ§ÛŒØ¯ Ø§ÛŒÙ† Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø±Ùˆ Ù¾Ø± Ú©Ù†ÛŒØ¯:";

  if (navigator.share) {
    navigator.share({
      title: title,
      text: text,
      url: url
    }).catch((error) => console.log("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ:", error));
  } else {
    navigator.clipboard.writeText(url).then(() => {
      alert("Ù„ÛŒÙ†Ú© Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ú©Ù¾ÛŒ Ø´Ø¯ âœ…");
    });
  }
}
</script>

   </div>
</div>


   <p class="lead" style="font-size: 12px; color: #555; line-height: 1.4;">
  Ù…Ø´Ø®ØµØ§Øª Ø§Ø®ØªÛŒØ§Ø±ÛŒ Ø§Ø³Øª â€” Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ ÙÙ‚Ø· Ø³ÙˆØ§Ù„Ø§Øª Û´Û°Ú¯Ø§Ù†Ù‡ Ø±Ø§ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯. Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ú¯Ø²Ø§Ø±Ø´ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ + PDF + Excel Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯.
</p>

    <form id="surveyForm">


<div style="display: flex; justify-content: center; align-items: center; gap: 15px; padding: 15px; background-color:#fffabc; border-radius: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); flex-wrap: wrap; max-width: 100%;">

  <!-- Ù†Ø§Ù… -->
  <div style="display: flex; align-items: center; gap: 5px; min-width: 120px;">
    <label style="font-size: 13px; color: #555;">Ù†Ø§Ù…:</label>
    <input name="name" type="text" placeholder="Ø§Ø®ØªÛŒØ§Ø±ÛŒ"
      style="font-size: 14px; padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; width: 120px; color: #555;">
  </div>

  <!-- Ø¬Ù†Ø³ÛŒØª -->
  <div style="display: flex; align-items: center; gap: 5px; min-width: 90px;">
    <label style="font-size: 13px; color: #555;">Ø¬Ù†Ø³ÛŒØª:</label>
    <select name="gender"
      style="font-size: 14px; padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; width: 90px; color: #555;">
      <option value="" style="color: #999;">Ø§Ø®ØªÛŒØ§Ø±ÛŒ</option>
      <option>Ø²Ù†</option>
      <option>Ù…Ø±Ø¯</option>
    </select>
  </div>

  <!-- Ø³Ù† -->
  <div style="display: flex; align-items: center; gap: 5px; min-width: 70px;">
    <label style="font-size: 13px; color: #555;">Ø³Ù†:</label>
    <input name="age" type="number" min="0" placeholder="Ø§Ø®ØªÛŒØ§Ø±ÛŒ"
      style="font-size: 14px; padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; width: 70px; color: #555;">
  </div>

  <!-- ØªØ­ØµÛŒÙ„Ø§Øª -->
  <div style="display: flex; align-items: center; gap: 5px; min-width: 120px;">
    <label style="font-size: 13px; color: #555;">ØªØ­ØµÛŒÙ„Ø§Øª:</label>
    <input name="education" type="text" placeholder="Ø§Ø®ØªÛŒØ§Ø±ÛŒ"
      style="font-size: 14px; padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; width: 120px; color: #555;">
  </div>

</div>








      
      <hr style="margin-top:12px;border:none;border-top:1px solid #eef7f0">

      <div id="questions" class="questions"></div>


      <div class="controls">
        <button id="submitBtn" type="submit">Ø§Ø±Ø³Ø§Ù„ Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªÛŒØ¬Ù‡</button>
        <button id="resetBtn" type="button" class="secondary">Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ ÙØ±Ù…</button>
        <div id="status" style="color:var(--danger);font-weight:600"></div>
      </div>


<div class="invite-links" style="text-align:center; margin: 20px 0;">
  <p> Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ±ØŒ Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø§ Ø±Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯:</p>

  <a href="https://instagram.com/drsomayeazad" target="_blank">Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</a> |
  <a href="https://t.me/donyayematloob1" target="_blank">ØªÙ„Ú¯Ø±Ø§Ù…</a> |
  <a href="https://eitaa.com/donyayematloob" target="_blank">Ø§ÛŒØªØ§</a> |
  <a href="https://wa.me/989335556292" target="_blank">ÙˆØ§ØªØ³Ø§Ù¾</a> |
  <a href="#" onclick="shareLink(event)">ğŸ“¤ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡</a>

 
<!-- QR Code -->
<div class="invite-links" style="text-align:center; margin: 20px 0;">
  ...
  <div id="qrcode" style="display:inline-block; margin: 20px auto;"></div>
  ...
</div>



  <!-- Ø§ÛŒÙ…ÛŒÙ„ -->

<div class="email" style="margin-top:15px;">
  Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…: 
<a href="https://mail.google.com/mail/?view=cm&fs=1&to=drsomayeazad@gmail.com&su=Ø¯Ø±Ø®ÙˆØ§Ø³Øª%20Ø§Ø·Ù„Ø§Ø¹Ø§Øª&body=Ø³Ù„Ø§Ù…%20Ø¯Ú©ØªØ±%20Ø¹Ø²ÛŒØ²ØŒ%20Ù…ÛŒØ®ÙˆØ§Ø³ØªÙ…%20Ø¯Ø±%20Ù…ÙˆØ±Ø¯%20..."
     target="_blank">
       drsomayeazad@gmail.com ğŸ“§
  </a>
</div>

 
<!-- Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ qrcode.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
  // Ù„ÛŒÙ†Ú© Ù„ÛŒÙ†Ú©Ø¯ÙˆÙ†ÛŒâ€ŒØªØ§Ù† Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯
  var link = "https://somayeazad121.github.io/links/"; 

  new QRCode(document.getElementById("qrcode"), {
    text: link,
    width: 160,
    height: 160,
    colorDark: "#800080",   // Ø±Ù†Ú¯ Ø¨Ù†ÙØ´
    colorLight: "#ffffff"   // Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø³ÙÛŒØ¯
  });

  // Ù†Ù…ÙˆÙ†Ù‡ ØªØ§Ø¨Ø¹ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡
  function shareLink(event) {
    event.preventDefault();
    if (navigator.share) {
      navigator.share({
        title: 'Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡',
        text: 'Ù„ÛŒÙ†Ú© Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ù…Ù†:',
        url: link
      });
    } else {
      alert("Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù„ÛŒÙ†Ú©: " + link);
    }
  }
</script>




    </form>

    <div id="resultArea" class="result hide">
      <h2 style="color:var(--accent)">Ù†ØªØ§ÛŒØ¬ Ø´Ù…Ø§</h2>
      <div id="meta" style="color:var(--muted)"></div>

      <h3 style="margin-top:12px">Ø®Ø±Ø¯Ù‡â€ŒÙ…Ù‚ÛŒØ§Ø³â€ŒÙ‡Ø§ (Ø³Ø¨Ú© Ø³Ø§Ø²Ù†Ø¯Ù‡)</h3>
      <div id="constructiveTable"></div>

      <h3 style="margin-top:12px">Ø®Ø±Ø¯Ù‡â€ŒÙ…Ù‚ÛŒØ§Ø³â€ŒÙ‡Ø§ (Ø³Ø¨Ú© Ù…Ø®Ø±Ø¨)</h3>
      <div id="destructiveTable"></div>

      <div class="charts" style="margin-top:12px">
        <div>
          <h4 style="color:var(--accent)">Ù†Ù…ÙˆØ¯Ø§Ø± Ø³Ø¨Ú© Ø³Ø§Ø²Ù†Ø¯Ù‡</h4>
          <canvas id="chartConstructive"></canvas>
        </div>
        <div>
          <h4 style="color:var(--accent2)">Ù†Ù…ÙˆØ¯Ø§Ø± Ø³Ø¨Ú© Ù…Ø®Ø±Ø¨</h4>
          <canvas id="chartDestructive"></canvas>
        </div>
      </div>

      <h3 style="margin-top:14px">Ø®Ù„Ø§ØµÙ‡ Ú©Ù„ÛŒ</h3>
      <div id="summaryTable"></div>
      <div class="charts" style="margin-top:8px">
        <div>
          <h4 style="color:var(--purple)">Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø³Ø¨Ú©â€ŒÙ‡Ø§ (Ø³Ø§Ø²Ù†Ø¯Ù‡ vs Ù…Ø®Ø±Ø¨)</h4>
          <canvas id="chartOverall"></canvas>
        </div>
        <div>
          <h4 style="color:var(--yellow)">Ù†Ù…Ø±Ù‡ Ú©Ù„ÛŒ</h4>
          <canvas id="chartTotal"></canvas>
        </div>
      </div>

      <h3 style="margin-top:12px">ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆØªØ§Ù‡ Ù‡Ø± Ø®Ø±Ø¯Ù‡â€ŒÙ…Ù‚ÛŒØ§Ø³</h3>
      <div id="recommendations"></div>

      <div style="margin-top:14px">
        <button id="downloadPdfBtn">Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF Ú¯Ø²Ø§Ø±Ø´</button>
        <button id="downloadXlsBtn">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ú©Ø³Ù„ (XLSX)</button>
      </div>

      <div class="social" style="margin-top:18px">
        <p>ğŸ‘ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ ÛŒÚ© Ú¯Ø§Ù… Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ø´Ù†Ø§Ø®Øª Ùˆ Ø±Ø´Ø¯ Ø´Ø®ØµÛŒ Ø¨Ø±Ø¯Ø§Ø´ØªÛŒØ¯.<br>
        ğŸ’¡ Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒØŒ Ø±Ø´Ø¯ Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø±Ø¯Ù† Ø¨Ø§ Ù…Ù† Ù‡Ù…Ø±Ø§Ù‡ Ø´ÙˆÛŒØ¯:</p>
        <p>Ù‡Ù…Ù‡ Ù„ÛŒÙ†Ú©Ù‡Ø§ÛŒ Ù…Ù† <a href="https://somayeazad121.github.io/links/" target="_blank"> Ù‡Ù…Ù‡ Ù„ÛŒÙ†Ú©Ù‡Ø§ÛŒ Ù…Ù†</a></p>
      
      </div>

      <div style="margin-top:18px;font-size:13px;color:#444;text-align:center">
        Ù…Ù†Ø¨Ø¹ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡: Ø¢Ø²Ø§Ø¯ Ø³Ù…ÛŒÙ‡ØŒ Ø§Ø®ÙˆØ§Ù† ØªÙØªÛŒ Ù…Ù‡Ù†Ø§Ø²ØŒ Ù…Ø­Ø³Ù† Ù¾ÙˆØ± Ù…Ø±ÛŒÙ…. Ø³Ø§Ø®Øª Ùˆ Ø±ÙˆØ§ÛŒÛŒ Ø¢Ø²Ù…Ø§ÛŒÛŒ Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ø¨Ú©Ù‡Ø§ÛŒ ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ø± Ù¾Ø§ÛŒÙ‡ ØªØ¦ÙˆØ±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú¯Ù„Ø§Ø³Ø± . ÙØµÙ„Ù†Ø§Ù…Ù‡ Ø¹Ù„Ù…ÛŒ- Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ Ùˆ Ù¾Ú˜ÙˆÙ‡Ø´. Û±Û³Û¹Û¹; Û±Û· (Û²) :Û±Û±Û¹-Û±Û´Û¶<br>
        URL: <a href="http://qjfr.ir/article-Û±-Û±ÛµÛ°Û³-fa.html" target="_blank">http://qjfr.ir/article-Û±-Û±ÛµÛ°Û³-fa.html</a>
      </div>
    </div>
  </div>

<!-- Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

<script>
// ================== Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª ==================
const questions = [
"Ø¯Ø± ØµÙˆØ±Øª Ø¨Ø±ÙˆØ² Ø±ÙØªØ§Ø± Ø§Ø´ØªØ¨Ø§Ù‡ÛŒ Ø§Ø² ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ù‡ Ø§Ùˆ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ù‡ Ø¬Ø¯Ø§ÛŒ Ø§Ø² Ø±ÙØªØ§Ø±Ø´ Ø§Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ù† Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ Ø§Ø³Øª.",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù…Ø³Ø§Ø¦Ù„ Ø´Ø®ØµÛŒ Ø§Ø´ Ù…Ø«Ù„ Ø±ÙˆØ§Ø¨Ø· Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ùˆ ØªØ­ØµÛŒÙ„ÛŒ ...Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯Ø§Ø±Ù….",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…ÛŒ Ú©Ù†Ù… Ùˆ Ø§Ø­Ø³Ø§Ø³ Ù…ÛŒ Ú©Ù†Ù… Ø¨Ù‡ Ø®ÙˆØ¨ÛŒ ÙØ±Ø²Ù†Ø¯Ø§Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù†ÛŒØ³Øª ØŒ Ø§ÛŒÙ† Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø±Ø§ Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒ Ú©Ù†Ù… .",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ú©Ø§Ø±ÛŒ Ø´Ú©Ø³Øª Ù…ÛŒ Ø®ÙˆØ±Ø¯ ØŒ Ø³Ø¹ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ø§Ùˆ Ø±Ø§ Ø¢Ø±Ø§Ù… Ú©Ù†Ù… .",
"Ø¯Ø± Ø´Ø±Ø§ÛŒØ·ÛŒ Ú©Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø®ÙˆØ§Ø³ØªÙ‡ ÛŒ Ù…Ø·Ù„ÙˆØ¨Ù… Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ ØŒ Ø¨Ù‡ Ø§Ùˆ Ø¨ÛŒØ´ØªØ± Ù…Ø­Ø¨Øª ÛŒØ§ ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù…",
"Ù‡Ù†Ú¯Ø§Ù…ÛŒ Ú©Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù…Ø³Ø§Ø¦Ù„ÛŒ Ù†Ø¸Ø± Ù…ØªÙØ§ÙˆØªÛŒ Ø§Ø² Ù†Ø¸Ø± Ù…Ù† Ø¯Ø§Ø±Ø¯ØŒ Ø¨Ø§ Ú©Ù…Ø§Ù„ Ø¢Ø±Ø§Ù…Ø´ Ø¨Ù‡ Ù†Ø¸Ø±Ø§Øª Ø§Ùˆ ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù… .",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… ØªÙˆØ¶ÛŒØ­ Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ù‡ Ú†Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø§Ø² Ù‚ÙˆØ§Ù†ÛŒÙ† Ù¾ÛŒØ±ÙˆÛŒ Ú©Ù†Ø¯.",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù‡Ø´Ø¯Ø§Ø± Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ù‡ Ø§Ú¯Ø± Ø¨Ù‡ ØªÙ‚Ø§Ø¶Ø§ÛŒ Ù…Ù† Ø¹Ù…Ù„ Ù†Ú©Ù†Ø¯ Ø®ÙˆØ§Ø³ØªÙ‡ Ù‡Ø§ÛŒØ´ Ø±Ø§ Ø¨Ø±Ø¢ÙˆØ±Ø¯Ù‡ Ù†Ø®ÙˆØ§Ù‡Ù… Ú©Ø±Ø¯ .",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ú¯ÙˆÛŒÙ… Ú©Ù‡ Ø§Ú¯Ø± Ø®ÙˆØ§Ù‡Ø§Ù† Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ù…Ø·Ù„ÙˆØ¨ÛŒ Ø§Ø² Ø·Ø±Ù Ù…Ù† Ø§Ø³Øª ØŒ Ø¯Ø± Ø¹ÙˆØ¶ Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ§Ø³ØªÙ‡ Ù‡Ø§ÛŒÙ… Ø±Ø§ Ø§Ø¬Ø§Ø¨Øª Ú©Ù†Ø¯.",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø§ Ø§Ø­ØªØ±Ø§Ù… Ø¨Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø¨Ø±Ø®ÙˆØ±Ø¯ Ù…ÛŒ Ú©Ù†Ø¯ Ø§Ùˆ Ø±Ø§ ØªØ­Ø³ÛŒÙ† Ù…ÛŒ Ú©Ù†Ù….",
"ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ ØªÙˆØ§Ù†Ø¯ Ù‡Ù†Ú¯Ø§Ù… Ø®Ø±ÛŒØ¯ Ø¨Ù‡ Ø³Ù„ÛŒÙ‚Ù‡ Ø®ÙˆØ¯Ø´ Ù‡Ø± Ú†ÛŒØ² Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†Ø¯ .",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± ØªÚ©Ø§Ù„ÛŒÙ Ùˆ Ú©Ø§Ø±Ù‡Ø§ÛŒØ´ Ù…ÙˆÙÙ‚ Ù…ÛŒ Ø´ÙˆØ¯ Ø§Ùˆ Ø±Ø§ ØªØ­Ø³ÛŒÙ† Ù…ÛŒ Ú©Ù†Ù… .",
"Ø§Ú¯Ø± Ø±Ø§Ø¨Ø·Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù†Ø´ Ù…ÙˆØ±Ø¯ ØªØ§ÛŒÛŒØ¯ Ù…Ù† Ù†Ø¨Ø§Ø´Ø¯ Ø§Ø² Ø§Ùˆ Ø§ÛŒØ±Ø§Ø¯ Ù…ÛŒ Ú¯ÛŒØ±Ù….",
"Ø§Ø² Ø¹Ù…Ù„Ú©Ø±Ø¯ ØªØ­ØµÛŒÙ„ÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ú¯Ù„Ø§ÛŒÙ‡ Ù…ÛŒ Ú©Ù†Ù… .",
"ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ ØªÙ‡Ø¯ÛŒØ¯ Ù…ÛŒ Ú©Ù†Ù… Ú©Ù‡ Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÙ‡ Ø§Ù… Ø±Ø§ Ø¹Ù…Ù„ÛŒ Ù†Ú©Ù†Ø¯ ØŒ Ù¾ÛŒØ§Ù…Ø¯Ù‡Ø§ÛŒ Ø¨Ø¯ÛŒ Ù…ØªÙˆØ¬Ù‡ Ø§ÙˆØ³Øª.",
"Ù†Ø§Ø±Ø¶Ø§ÛŒØªÛŒ Ø§Ø² Ø´Ø®ØµÛŒØª ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¨Ø±Ø§ÛŒØ´ Ø¨Ø§Ø²Ú¯Ùˆ Ù…ÛŒ Ú©Ù†Ù… .",
"Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ Ù…Ø®Ø§Ù„Ù Ø®ÙˆØ§Ø³ØªÙ‡ ÛŒØ§ Ú©Ø§Ø± ÙØ±Ø²Ù†Ø¯Ù… Ù‡Ø³ØªÙ… Ø§Ùˆ Ø±Ø§ ØªØ´ÙˆÛŒÙ‚ Ù…ÛŒ Ú©Ù†Ù… ØªØ§ Ø­Ø±ÙØ´ Ø±Ø§ Ø¨Ø²Ù†Ø¯.",
"Ø³Ø¹ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ú©ÙˆÚ†Ú©ØªØ±ÛŒÙ† Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ù…Ø«Ø¨Øª ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ ØªØ­Ø³ÛŒÙ† Ú©Ù†Ù… .",
"Ø¨Ù‡ Ø·ÙˆØ± Ù…Ø±ØªØ¨ Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ú©Ù‡ ÙˆØ¸Ø§ÛŒÙ Ùˆ ØªÚ©Ø§Ù„ÛŒÙØ´ Ø±Ø§ ÙØ±Ø§Ù…ÙˆØ´ Ù†Ú©Ù†Ø¯.",
"ÛŒÚ©ÛŒ Ø§Ø² Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡Ø§ÛŒ Ø·Ø¨ÛŒØ¹ÛŒ Ø®Ø§Ù†Ù‡ Ù…Ø§ Ú¯ÙØªÚ¯ÙˆÙ‡Ø§ÛŒ Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø§Ø³Øª.",
"Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø§Ø² ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø®ÙˆØ§Ù‡Ù… Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ Ø¨Ù‡ Ù…ÛŒÙ„ Ùˆ Ø®ÙˆØ§Ø³ØªÙ‡ Ø§Ùˆ Ù†ÛŒØ² ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù… .",
"ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¨Ø§Ø¨Øª Ø§ÛŒÙ†Ú©Ù‡ Ù…Ø§Ù†Ù†Ø¯ Ù‡Ù…Ø³Ø§Ù„Ø§Ù†Ø´ Ù‚Ø§Ø¯Ø± Ù†ÛŒØ³Øª Ø§Ø² Ø¹Ù‡Ø¯Ù‡ ÙˆØ¸Ø§ÛŒÙØ´ Ø¨Ø±Ø¢ÛŒØ¯ Ø³Ø±Ø²Ø´ Ù…ÛŒ Ú©Ù†Ù… .",
"Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… ØµØ­Ø¨ØªÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…ÛŒ Ú©Ù†Ø¯ Ø¨Ù‡ Ù†Ø¸Ø±Ù… Ø§Ø±Ø²Ø´ Ú†Ù†Ø¯Ø§Ù†ÛŒ Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ Ø¨Ù‡ ØµØ­Ø¨ØªÙ‡Ø§ÛŒØ´ ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù… .",
"Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø§ Ù…Ù† Ø§Ø®ØªÙ„Ø§Ù Ù†Ø¸Ø± Ø¯Ø§Ø±Ø¯ Ø¨Ø§ Ø§Ø­ØªØ±Ø§Ù… Ø¨Ø§ Ø§Ùˆ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ù…ÛŒ Ú©Ù†Ù… .",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ú¯ÙˆÛŒÙ… Ú©Ù‡ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø®ÙˆØ¨ ÛŒØ§ Ø¨Ø¯ Ø§Ùˆ Ú†Ú¯ÙˆÙ†Ù‡ ÙÚ©Ø± Ù…ÛŒ Ú©Ù†Ù… Ùˆ Ú†Ù‡ Ø§Ø­Ø³Ø§Ø³ÛŒ Ø¯Ø§Ø±Ù… .",
"Ø§Ú¯Ø± Ù†Ø­ÙˆÙ‡ Ø±ÙØªØ§Ø± ÙØ±Ø²Ù†Ø¯Ù… Ø®ÙˆØ´Ø§ÛŒÙ†Ø¯Ù… Ù†Ø¨Ø§Ø´Ø¯ Ø§Ø² Ø§Ùˆ Ø§Ù†ØªÙ‚Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù….",
"Ø§Ú¯Ø± ÙˆØ¶Ø¹ Ø¸Ø§Ù‡Ø±ÛŒ Ùˆ Ù¾ÙˆØ´Ø´ ÙØ±Ø²Ù†Ø¯Ù… Ø®ÙˆØ´Ø§ÛŒÙ†Ø¯ Ù…Ù† Ù†Ø¨Ø§Ø´Ø¯ ØŒ Ø§Ø² Ø§Ùˆ Ø§Ù†ØªÙ‚Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù… .",
"ÙˆÙ‚ØªÛŒ Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø§Ø¨Ø±Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡ Ùˆ Ù…Ø­Ø¨Øª Ù…ÛŒ Ú©Ù†Ù… Ú©Ù‡ Ø§Ùˆ Ù…Ø·Ø§Ø¨Ù‚ Ù…ÛŒÙ„ Ù…Ù† Ø¹Ù…Ù„ Ú©Ù†Ø¯.",
"Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒ Ø¯Ù‡Ù… ØªØ§ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ Ø¯Ø®Ø§Ù„Øª Ú©Ù†Ø¯ Ùˆ Ù†Ø¸Ø± Ø¯Ù‡Ø¯.",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø§Ø² Ø¯ÙˆØ³ØªØ§Ù†Ø´ Ø¨Ø±Ø§ÛŒÙ… ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†Ø¯ Ø­ØªÛŒ Ø§Ú¯Ø± Ø¯ÙˆØ³ØªØ§Ø´ Ù…ÙˆØ±Ø¯ ØªØ§ÛŒÛŒØ¯ Ù…Ù† Ù†Ø¨Ø§Ø´Ù†Ø¯ Ù‡Ù…Ú†Ù†Ø§Ù† Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø­Ø±ÙÙ‡Ø§ÛŒØ´ Ú¯ÙˆØ´ Ù…ÛŒ Ø¯Ù‡Ù… .",
"ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ù…Ø±ØªØ¨ Ø¨Ø§Ø¨Øª Ø§Ø´ØªØ¨Ø§Ù‡Ø§ØªØ´ Ø³Ø±Ø²Ù†Ø´ Ù…ÛŒ Ú©Ù†Ù… .",
"Ø§ÙˆÙ‚Ø§Øª Ú¯Ø±Ù… Ùˆ ØµÙ…ÛŒÙ…ÛŒ Ø§ÛŒ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø§Ø±Ù….",
"Ø¯Ø± Ù…Ø´Ú©Ù„Ø§ØªÛŒ Ú©Ù‡ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø§Ø±Ù… ØŒ Ø³Ø¹ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ù…Ø´Ú©Ù„ Ø¯Ø± ÙˆÙ‚Øª Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø§ Ø§Ùˆ Ø¨Ù‡ Ú¯ÙØªÚ¯Ùˆ Ø¨Ù¾Ø±Ø¯Ø§Ø²Ù… .",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ø¯ÙˆØ³ØªØ§Ù†Ø´ Ø±Ø§ Ø¨Ù‡ Ù…Ù†Ø²Ù„ Ø¯Ø¹ÙˆØª Ú©Ù†Ø¯ Ø¨Ø§ Ø§Ùˆ Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ù…ÛŒ Ú©Ù†Ù….",
"Ø¯Ø§Ø¦Ù… Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ú¯ÙˆÛŒÙ… Ú©Ù‡ Ø­Ø±Ù Ù…Ø±Ø§ Ú¯ÙˆØ´ Ù†Ù…ÛŒ Ú©Ù†Ø¯.",
"Ø§Ú¯Ø± Ù†Ø­ÙˆÙ‡ ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¯ÙˆØ³Øª Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù… Ø§Ø² Ø§Ùˆ Ø§ÛŒØ±Ø§Ø¯ Ù…ÛŒ Ú¯ÛŒØ±Ù… .",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ú©Ø§Ø± Ù†Ø§Ø¯Ø±Ø³Øª ÛŒØ§ Ø§Ø´ØªØ¨Ø§Ù‡ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ ØªØ§ Ù…Ø¯ØªÛŒ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø±Ø®Ø´ Ù…ÛŒ Ú©Ø´Ù… .",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù…ÙˆØ±Ø¯ Ù¾ÛŒØ§Ù…Ø¯ Ùˆ Ù†ØªÛŒØ¬Ù‡ Ú©Ø§Ø±Ù‡Ø§ÛŒØ´ ØªÙˆØ¶ÛŒØ­ Ù…ÛŒ Ø¯Ù‡Ù… .",
"Ù‡Ù†Ú¯Ø§Ù… Ù…Ø´Ø§Ø¬Ø±Ù‡ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯Ù… ØŒ Ø§Ùˆ Ø±Ø§ ØªÙ‡Ø¯ÛŒØ¯ Ø¨Ù‡ Ù…Ø­Ø±ÙˆÙ…ÛŒØª Ø§Ø² Ø¨Ø¹Ø¶ÛŒ Ø§Ù…Ú©Ø§Ù†Ø§ØªØ´ Ù…ÛŒ Ú©Ù†Ù… .",
"Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¨ÛŒÙ‡ ÙØ±Ø²Ù†Ø¯Ù… Ø§Ø¬Ø§Ø²Ù‡ Ù†Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ø§Ø± Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ Ø§Ø´ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ ÛŒØ§ Ø§Ø² ÙˆØ³Ø§ÛŒÙ„ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ Ø§Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯."
];

const optionLabels = ["Ù‡Ù…ÛŒØ´Ù‡","Ø§ØºÙ„Ø¨ Ø§ÙˆÙ‚Ø§Øª","Ú¯Ø§Ù‡ÛŒ Ø§ÙˆÙ‚Ø§Øª","Ø¨Ù‡ Ù†Ø¯Ø±Øª","Ù‡Ø±Ú¯Ø²"];
const optionValues = [4,3,2,1,0];

// Ù†Ù…Ø§ÛŒØ´ Ø³ÙˆØ§Ù„Ø§Øª
const qContainer = document.getElementById('questions');
questions.forEach((text,i)=>{
  const div=document.createElement('div');
  div.className='question';
  let html=`<div class="qtext">Ø³ÙˆØ§Ù„ ${i+1}</div><div style="font-weight:500;margin-bottom:8px">${text}</div><div class="options">`;
  optionLabels.forEach((lab,j)=>{
    // required on first radio group will be validated via JS submit check
    html += `<label><input type="radio" name="q${i+1}" value="${optionValues[j]}"> ${lab}</label>`;
  });
  html += `</div>`;
  div.innerHTML=html;
  qContainer.appendChild(div);
});

// Ø²ÛŒØ±Ù…Ù‚ÛŒØ§Ø³â€ŒÙ‡Ø§
const constructive = {
  "Ø­Ù…Ø§ÛŒØª Ú©Ø±Ø¯Ù†":[1,4,17],
  "Ø¯Ù„Ú¯Ø±Ù…ÛŒ Ø¯Ø§Ø¯Ù†":[10,12,18,32],
  "Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù†":[23,30],
  "Ù¾Ø°ÛŒØ±ÙØªÙ†":[6,11,29,34],
  "Ø§Ø¹ØªÙ…Ø§Ø¯ Ú©Ø±Ø¯Ù†":[2],
  "Ø§Ø­ØªØ±Ø§Ù… Ú¯Ø°Ø§Ø´ØªÙ†":[21,24],
  "Ú¯ÙØªÚ¯ÙˆÚ©Ø±Ø¯Ù†":[7,20,25,33,38]
};
const destructive = {
  "Ø§Ù†ØªÙ‚Ø§Ø¯ Ú©Ø±Ø¯Ù†":[13,26,27,36],
  "Ø³Ø±Ø²Ù†Ø´ Ú©Ø±Ø¯Ù†":[22,31],
  "Ø´Ú©Ø§ÛŒØª Ùˆ Ú¯Ù„Ø§ÛŒÙ‡ Ú©Ø±Ø¯Ù†":[3,14,16],
  "ØºØ± Ùˆ Ù†Ù‚ Ø²Ø¯Ù†":[19,35,37],
  "ØªÙ‡Ø¯ÛŒØ¯Ú©Ø±Ø¯Ù†":[8,15,39],
  "ØªÙ†Ø¨ÛŒÙ‡ Ú©Ø±Ø¯Ù†":[40],
  "Ù…Ù‡Ø§Ø± Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø±Ø´ÙˆÙ‡ (Ø¨Ø§Ø¬ Ø¯Ø§Ø¯Ù†)":[5,9,28]
};

const recommendationsText = {
  "Ø­Ù…Ø§ÛŒØª Ú©Ø±Ø¯Ù†":"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯ØªØ§Ù† Ù†Ø´Ø§Ù† Ø¯Ù‡ÛŒØ¯ Ú©Ù‡ Ø§Ùˆ Ø±Ø§ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒØ¯ Ùˆ Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯ØŒ Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯Ø› Ù…Ø­Ø¨Øª Ø¨ÛŒâ€ŒÙ‚ÛŒØ¯ Ùˆ Ø´Ø±Ø· Ù…ÙˆØ«Ø± Ø§Ø³Øª.",
  "Ø¯Ù„Ú¯Ø±Ù…ÛŒ Ø¯Ø§Ø¯Ù†":"Ù…ÙˆØ§Ø±Ø¯ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø±Ø§ Ø¨Ø²Ø±Ú¯ Ú©Ù†ÛŒØ¯ØŒ Ø¨Ø±Ø§ÛŒ Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ù…Ø«Ø¨Øª ØªØ­Ø³ÛŒÙ† Ùˆ Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯ ÙÙˆØ±ÛŒ Ø¨Ø¯Ù‡ÛŒØ¯.",
  "Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù†":"Ù‡Ù†Ú¯Ø§Ù… ØµØ­Ø¨Øª ÙØ±Ø²Ù†Ø¯ØŒ Ù‚Ø·Ø¹ Ù†Ú©Ù†ÛŒØ¯ØŒ Ú¯ÙˆØ´ Ø¨Ø¯Ù‡ÛŒØ¯ Ùˆ Ø§Ø­Ø³Ø§Ø³Ø§ØªØ´ Ø±Ø§ Ø¨Ø§Ø²ØªØ§Ø¨ Ø¯Ù‡ÛŒØ¯ ØªØ§ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø³Ø§Ø®ØªÙ‡ Ø´ÙˆØ¯.",
  "Ù¾Ø°ÛŒØ±ÙØªÙ†":"Ø§Ø®ØªÙ„Ø§Ù Ù†Ø¸Ø± Ø±Ø§ Ø·Ø¨ÛŒØ¹ÛŒ Ø¨Ø¯Ø§Ù†ÛŒØ¯ Ùˆ Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Ø±ÙØªØ§Ø± Ùˆ Ø´Ø®ØµÛŒØª Ø§Ùˆ Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±ÛŒØ¯ØŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ ØªÙˆØ¶ÛŒØ­ Ù…ÙÛŒØ¯ Ø§Ø³Øª.",
  "Ø§Ø¹ØªÙ…Ø§Ø¯ Ú©Ø±Ø¯Ù†":"Ø¨Ù‡ Ø§Ùˆ ÙØ±ØµØª Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ø¯Ø§Ø¯Ù† Ùˆ Ø§Ø¹ØªÙ…Ø§Ø¯ Ù†Ø´Ø§Ù† Ø¯Ù‡ÛŒØ¯Ø› Ø§ÛŒÙ† Ø¨Ø§Ø¹Ø« Ø®ÙˆØ¯Ø¨Ø§ÙˆØ±ÛŒ Ùˆ Ø±Ø´Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
  "Ø§Ø­ØªØ±Ø§Ù… Ú¯Ø°Ø§Ø´ØªÙ†":"Ø¨Ø§ Ø§Ø­ØªØ±Ø§Ù… Ø¨Ù‡ Ù†Ø¸Ø±Ø§Øª Ø§Ùˆ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯ Ùˆ Ø§Ø² Ø³Ø±Ø²Ù†Ø´ Ø¹Ù…ÙˆÙ…ÛŒ Ø®ÙˆØ¯Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯.",
  "Ú¯ÙØªÚ¯ÙˆÚ©Ø±Ø¯Ù†":"Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø§ Ø¨Ø§ Ú¯ÙØªÚ¯ÙˆÛŒ Ø¯ÙˆØ·Ø±ÙÙ‡ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯ Ùˆ Ø¯Ø± ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†Ø§Ø³Ø¨ Ù…Ø´Ø§Ø±Ú©Øª Ø¯Ù‡ÛŒØ¯.",
  "Ø§Ù†ØªÙ‚Ø§Ø¯ Ú©Ø±Ø¯Ù†":"Ø§Ø² Ø§Ù†ØªÙ‚Ø§Ø¯ Ø´Ø®ØµÛŒ Ø®ÙˆØ¯Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯ØŒ Ø¨Ù‡â€ŒØ¬Ø§ÛŒ Ø¢Ù† Ø±ÙˆÛŒ Ø±ÙØªØ§Ø± Ù…Ø´Ø®Øµ Ùˆ Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± ØªÙ…Ø±Ú©Ø² Ú©Ù†ÛŒØ¯.",
  "Ø³Ø±Ø²Ù†Ø´ Ú©Ø±Ø¯Ù†":"Ø¨Ù‡â€ŒØ¬Ø§ÛŒ Ø³Ø±Ø²Ù†Ø´ØŒ Ø±ÙˆÛŒ Ø±Ø§Ù‡â€ŒØ­Ù„ Ùˆ Ø¢Ù…ÙˆØ²Ø´ ØªÙ…Ø±Ú©Ø² Ú©Ù†ÛŒØ¯Ø› Ø³Ø±Ø²Ù†Ø´ Ø§Ù†Ú¯ÛŒØ²Ù‡ Ø±Ø§ Ú©Ø§Ù‡Ø´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.",
  "Ø´Ú©Ø§ÛŒØª Ùˆ Ú¯Ù„Ø§ÛŒÙ‡ Ú©Ø±Ø¯Ù†":"Ø§Ø² Ø¨ÛŒØ§Ù† Ù…Ø¯Ø§ÙˆÙ… Ú¯Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ø®ÙˆØ¯Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ù…ÙˆØ§Ø±Ø¯ Ù…Ø«Ø¨Øª Ø±Ø§ Ø¨Ø±Ø¬Ø³ØªÙ‡ Ú©Ù†ÛŒØ¯.",
  "ØºØ± Ùˆ Ù†Ù‚ Ø²Ø¯Ù†":"Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒâ€ŒÙ‡Ø§ Ø§Ø² Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù…Ø«Ø¨Øª Ùˆ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ ØªØ´ÙˆÛŒÙ‚ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ ØªØ§ Ù¾Ø±Ø®Ø§Ø´ Ú©Ø§Ù‡Ø´ ÛŒØ§Ø¨Ø¯.",
  "ØªÙ‡Ø¯ÛŒØ¯Ú©Ø±Ø¯Ù†":"ØªÙ‡Ø¯ÛŒØ¯ Ø¯Ø§Ø¦Ù…ÛŒ Ø¨Ø§Ø¹Ø« ØªØ±Ø³ Ùˆ Ù…Ù‚Ø§ÙˆÙ…Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯Ø› Ø¨Ù‡ØªØ± Ø§Ø³Øª Ù…Ø±Ø²Ù‡Ø§ Ø±Ø§ ÙˆØ§Ø¶Ø­ Ùˆ Ø³Ø§Ø²Ù†Ø¯Ù‡ ØªØ¹ÛŒÛŒÙ† Ú©Ù†ÛŒØ¯.",
  "ØªÙ†Ø¨ÛŒÙ‡ Ú©Ø±Ø¯Ù†":"ØªÙ†Ø¨ÛŒÙ‡ Ø¨Ù‡â€ŒØªÙ†Ù‡Ø§ÛŒÛŒ Ø§Ø«Ø±Ø¨Ø®Ø´ Ù†ÛŒØ³ØªØ› Ù¾ÛŒØ§Ù…Ø¯Ù‡Ø§ÛŒ Ù…Ù†Ø·Ù‚ÛŒ Ùˆ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ø¢Ù…ÙˆØ²Ø´ Ù…ÙÛŒØ¯ØªØ±Ù†Ø¯.",
  "Ù…Ù‡Ø§Ø± Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø±Ø´ÙˆÙ‡ (Ø¨Ø§Ø¬ Ø¯Ø§Ø¯Ù†)":"Ø§Ø² Ø¯Ø§Ø¯Ù† Ù¾Ø§Ø¯Ø§Ø´â€ŒÙ‡Ø§ÛŒ Ù…ÙˆÙ‚ØªÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ø±ÙØªØ§Ø± Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ú©Ù†ÛŒØ¯Ø› Ø§Ù†Ú¯ÛŒØ²Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø±ÙˆÙ†ÛŒ Ø±Ø§ ØªÙ‚ÙˆÛŒØª Ú©Ù†ÛŒØ¯."
};

// Ø±Ù†Ú¯â€ŒÙ‡Ø§
const paletteConstructive = ['#0b67b2','#ff8a00','#7b1fa2','#2e7d32','#1e88e5','#ffb74d','#9c27b0'];
const paletteDestructive = ['#d32f2f','#f57c00','#6a1b9a','#c62828','#fb8c00','#ab47bc','#e65100'];

// ØªÙˆØ§Ø¨Ø¹
function escapeHtml(s){ if(!s) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
function sumArray(arr){ return arr.reduce((a,b)=>a+b,0); }

function computeSubscaleScores(data){
  const consScores = {};
  for(const [name, arr] of Object.entries(constructive)){
    let s=0; arr.forEach(q=>{ s += parseInt(data['q'+q] || 0); });
    consScores[name] = {sum:s, max: arr.length*4, pct: arr.length? Math.round((s/(arr.length*4))*100) : 0};
  }
  const desScores = {};
  for(const [name, arr] of Object.entries(destructive)){
    let s=0; arr.forEach(q=>{ s += parseInt(data['q'+q] || 0); });
    desScores[name] = {sum:s, max: arr.length*4, pct: arr.length? Math.round((s/(arr.length*4))*100) : 0};
  }
  const consTotal = sumArray(Object.values(consScores).map(o=>o.sum));
  const consMax = sumArray(Object.values(consScores).map(o=>o.max));
  const desTotal = sumArray(Object.values(desScores).map(o=>o.sum));
  const desMax = sumArray(Object.values(desScores).map(o=>o.max));
  return {consScores, desScores, consTotal, consMax, desTotal, desMax};
}

function renderSubscaleTable(containerId, scores){
  let html = `<table><thead><tr><th>Ø¨Ø¹Ø¯</th><th>Ù†Ù…Ø±Ù‡ Ø´Ù…Ø§</th><th>Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ù†Ù…Ø±Ù‡</th><th>Ø¯Ø±ØµØ¯</th></tr></thead><tbody>`;
  for(const [k,v] of Object.entries(scores)){
    html += `<tr><td style="text-align:left">${escapeHtml(k)}</td><td>${v.sum}</td><td>${v.max}</td><td>${v.pct}%</td></tr>`;
  }
  html += `</tbody></table>`;
  document.getElementById(containerId).innerHTML = html;
}

function renderRecommendations(scores){
  const wrap = document.getElementById('recommendations');
  wrap.innerHTML = '';
  for(const [k,v] of Object.entries(scores)){
    const div = document.createElement('div');
    div.className = 'recommend';
    div.innerHTML = `<strong>${escapeHtml(k)} â€” Ù†Ù…Ø±Ù‡: ${v.sum}/${v.max} (${v.pct}%)</strong>
      <p style="margin:6px 0">${escapeHtml(recommendationsText[k] || "ØªÙˆØµÛŒÙ‡â€ŒØ§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª.")}</p>`;
    wrap.appendChild(div);
  }
}

// Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§
let chartCons=null, chartDes=null, chartOverall=null, chartTotal=null;
function drawBarChart(ctxId, labels, data, colors){
  const ctx = document.getElementById(ctxId).getContext('2d');
  return new Chart(ctx, {
    type:'bar',
    data:{ labels, datasets:[{ data, backgroundColor: colors }] },
    options:{ responsive:true, scales:{ y:{ beginAtZero:true } }, plugins:{ legend:{ display:false } } }
  });
}

// Ù¾Ø±Ø¯Ø§Ø²Ø´ ÙØ±Ù…
document.getElementById('surveyForm').addEventListener('submit', function(e){
  e.preventDefault();
  document.getElementById('status').textContent='';

  // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ: Ù‡Ù…Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø¨Ø§ÛŒØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ù†Ø¯
  for(let i=1;i<=40;i++){
    if(!document.querySelector(`input[name="q${i}"]:checked`)){
      document.getElementById('status').textContent = `Ù„Ø·ÙØ§Ù‹ Ù‡Ù…Ù‡ Ø³Ø¤Ø§Ù„Ø§Øª Ø±Ø§ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯. Ø³ÙˆØ§Ù„ ${i} Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡.`;
      window.scrollTo({top:0,behavior:'smooth'});
      return;
    }
  }

  // Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
  const fd = new FormData(this);
  const data = {};
  fd.forEach((v,k)=> data[k]=v);

  // Ù…Ø­Ø§Ø³Ø¨Ø§Øª
  const {consScores, desScores, consTotal, consMax, desTotal, desMax} = computeSubscaleScores(data);

  // Ù†Ù…Ø§ÛŒØ´ Ù…Ø´Ø®ØµØ§Øª
  const meta = document.getElementById('meta');
  const name = data.name || 'â€”';
  const gender = data.gender || 'â€”';
  const age = data.age || 'â€”';
  const education = data.education || 'â€”';
  meta.innerHTML = `<strong>Ù…Ø´Ø®ØµØ§Øª:</strong> Ù†Ø§Ù…: ${escapeHtml(name)} â€” Ø¬Ù†Ø³ÛŒØª: ${escapeHtml(gender)} â€” Ø³Ù†: ${escapeHtml(age)} â€” ØªØ­ØµÛŒÙ„Ø§Øª: ${escapeHtml(education)}`;

  // Ø¬Ø¯ÙˆÙ„â€ŒÙ‡Ø§ Ùˆ ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§
  renderSubscaleTable('constructiveTable', consScores);
  renderSubscaleTable('destructiveTable', desScores);
  renderRecommendations({...consScores, ...desScores});

  // Ù†Ù…ÙˆØ¯Ø§Ø± Ø³Ø§Ø²Ù†Ø¯Ù‡
  if(chartCons) chartCons.destroy();
  const consLabels = Object.keys(consScores);
  const consData = Object.values(consScores).map(o=>o.sum);
  chartCons = drawBarChart('chartConstructive', consLabels, consData, paletteConstructive.slice(0,consLabels.length));

  // Ù†Ù…ÙˆØ¯Ø§Ø± Ù…Ø®Ø±Ø¨
  if(chartDes) chartDes.destroy();
  const desLabels = Object.keys(desScores);
  const desData = Object.values(desScores).map(o=>o.sum);
  chartDes = drawBarChart('chartDestructive', desLabels, desData, paletteDestructive.slice(0,desLabels.length));

  // Ù†Ù…ÙˆØ¯Ø§Ø± Ú©Ù„ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡
  if(chartOverall) chartOverall.destroy();
  chartOverall = new Chart(document.getElementById('chartOverall').getContext('2d'), {
    type:'bar',
    data:{ labels:['Ø³Ø¨Ú© Ø³Ø§Ø²Ù†Ø¯Ù‡','Ø³Ø¨Ú© Ù…Ø®Ø±Ø¨'], datasets:[{ data:[consTotal, desTotal], backgroundColor:['rgba(11,103,178,0.9)','rgba(211,47,47,0.9)'] }] },
    options:{ responsive:true, scales:{ y:{ beginAtZero:true } }, plugins:{ legend:{display:false} } }
  });

  // Ù†Ù…ÙˆØ¯Ø§Ø± Ø¯Ø±ØµØ¯ÛŒ
  if(chartTotal) chartTotal.destroy();
  const pctCons = Math.round((consTotal/consMax)*100);
  const pctDes = Math.round((desTotal/desMax)*100);
  chartTotal = new Chart(document.getElementById('chartTotal').getContext('2d'), {
    type:'doughnut',
    data:{ labels:['Ø³Ø§Ø²Ù†Ø¯Ù‡','Ù…Ø®Ø±Ø¨'], datasets:[{ data:[pctCons, pctDes], backgroundColor:['#1e88e5','#d32f2f'] }] },
    options:{ responsive:true }
  });

  // Ø¬Ø¯ÙˆÙ„ Ø®Ù„Ø§ØµÙ‡
  const summaryHtml = `<table><thead><tr><th>Ø¨Ø¹Ø¯</th><th>Ù†Ù…Ø±Ù‡</th><th>Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ù†Ù…Ø±Ù‡</th><th>Ø¯Ø±ØµØ¯</th></tr></thead>
    <tbody>
      <tr><td>Ø¬Ù…Ø¹ Ø³Ø¨Ú© Ø³Ø§Ø²Ù†Ø¯Ù‡</td><td>${consTotal}</td><td>${consMax}</td><td>${Math.round((consTotal/consMax)*100)}%</td></tr>
      <tr><td>Ø¬Ù…Ø¹ Ø³Ø¨Ú© Ù…Ø®Ø±Ø¨</td><td>${desTotal}</td><td>${desMax}</td><td>${Math.round((desTotal/desMax)*100)}%</td></tr>
    </tbody></table>`;
  document.getElementById('summaryTable').innerHTML = summaryHtml;

  // Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
  document.getElementById('resultArea').classList.remove('hide');
  setTimeout(()=>{ document.getElementById('resultArea').scrollIntoView({behavior:'smooth'}); },100);

  // Ø°Ø®ÛŒØ±Ù‡ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯
  window._lastReport = { meta:{name,gender,age,education}, consScores, desScores, consTotal, consMax, desTotal, desMax, pctCons, pctDes };

});

// Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
document.getElementById('downloadPdfBtn').addEventListener('click', async function(){
  const el = document.getElementById('resultArea');
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF('p','mm','a4');
  const canvas = await html2canvas(el, { scale: 2, useCORS: true, logging:false });
  const img = canvas.toDataURL('image/png');
  const pageW = pdf.internal.pageSize.getWidth();
  const pageH = pdf.internal.pageSize.getHeight();
  const imgW = pageW - 20;
  const imgH = (canvas.height * imgW) / canvas.width;
  let pos = 10;
  if(imgH <= pageH - 20){
    pdf.addImage(img,'PNG',10,pos,imgW,imgH);
  } else {
    let heightLeft = imgH;
    let y = 0;
    while(heightLeft > 0){
      pdf.addImage(img,'PNG',10,pos - y,imgW,imgH);
      heightLeft -= (pageH - 20);
      if(heightLeft > 0) pdf.addPage();
      y += (pageH - 20);
    }
  }
  pdf.save('Ú¯Ø²Ø§Ø±Ø´_Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡.pdf');
});

// Ø¯Ø§Ù†Ù„ÙˆØ¯ Excel
document.getElementById('downloadXlsBtn').addEventListener('click', function(){
  const report = window._lastReport;
  if(!report){ alert('Ø§Ø¨ØªØ¯Ø§ ÙØ±Ù… Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ú¯Ø²Ø§Ø±Ø´ ØªÙˆÙ„ÛŒØ¯ Ø´ÙˆØ¯.'); return; }

  const wb = XLSX.utils.book_new();
  const meta = [ ['ÙÛŒÙ„Ø¯','Ù…Ù‚Ø¯Ø§Ø±'], ['Ù†Ø§Ù…', report.meta.name], ['Ø¬Ù†Ø³ÛŒØª', report.meta.gender], ['Ø³Ù†', report.meta.age], ['ØªØ­ØµÛŒÙ„Ø§Øª', report.meta.education], ['', ''] ];
  const consHeader = ['Ø®Ø±Ø¯Ù‡â€ŒÙ…Ù‚ÛŒØ§Ø³_Ø³Ø§Ø²Ù†Ø¯Ù‡','Ù†Ù…Ø±Ù‡','Ø¨ÛŒØ´ØªØ±ÛŒÙ†'];
  const consRows = Object.entries(report.consScores).map(([k,v])=> [k, v.sum, v.max]);
  const desHeader = ['Ø®Ø±Ø¯Ù‡â€ŒÙ…Ù‚ÛŒØ§Ø³_Ù…Ø®Ø±Ø¨','Ù†Ù…Ø±Ù‡','Ø¨ÛŒØ´ØªØ±ÛŒÙ†'];
  const desRows = Object.entries(report.desScores).map(([k,v])=> [k, v.sum, v.max]);
  const ws1Data = meta.concat([consHeader], consRows, [['','']], [desHeader], desRows, [['','']], [['Ø¬Ù…Ø¹ Ø³Ø§Ø²Ù†Ø¯Ù‡', report.consTotal, report.consMax], ['Ø¬Ù…Ø¹ Ù…Ø®Ø±Ø¨', report.desTotal, report.desMax]]);
  const ws1 = XLSX.utils.aoa_to_sheet(ws1Data);
  XLSX.utils.book_append_sheet(wb, ws1, 'Ú¯Ø²Ø§Ø±Ø´');
  XLSX.writeFile(wb, 'Ú¯Ø²Ø§Ø±Ø´_Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡.xlsx');
});

// Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ ÙØ±Ù…
document.getElementById('resetBtn').addEventListener('click', function(){
  if(confirm('Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ÙØ±Ù… Ù¾Ø§Ú© Ø´ÙˆØ¯ØŸ')){ document.getElementById('surveyForm').reset(); document.getElementById('resultArea').classList.add('hide'); window._lastReport = null; window.scrollTo({top:0,behavior:'smooth'}); }
});

// ===== Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø³Ø±ÛŒØ¹ =====
const pageLink = window.location.href;
function shareWhatsApp(){
  const txt = `Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ â€” Ù†ØªØ§ÛŒØ¬ ÙÙˆØ±ÛŒ: ${pageLink}`;
  window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(txt)}`,'_blank');
}
function shareTelegram(){
  const txt = `Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ â€” ${pageLink}`;
  window.open(`https://t.me/share/url?url=${encodeURIComponent(pageLink)}&text=${encodeURIComponent('Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø§ÛŒÙ† Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯')}`,'_blank');
}
function shareInstagram(){
  alert('Ø¨Ø±Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú© Ø¯Ø± Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…: Ù„ÛŒÙ†Ú© Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø± Ø§Ø³ØªÙˆØ±ÛŒ ÛŒØ§ Ø¯Ø§ÛŒØ±Ú©Øª Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.');
}
function copyLink(){
  navigator.clipboard.writeText(pageLink).then(()=>{ document.getElementById('linkStatus').textContent = "Ù„ÛŒÙ†Ú© Ú©Ù¾ÛŒ Ø´Ø¯!"; setTimeout(()=>{document.getElementById('linkStatus').textContent='';},2500); });
}

// ===== Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù†ØªØ§ÛŒØ¬ Ù…ØªÙ† (ÙˆØ§ØªØ³Ø§Ù¾) =====
function shareResultsWhatsApp(){
  const r = window._lastReport;
  if(!r){ alert('Ø§Ø¨ØªØ¯Ø§ Ù†ØªÛŒØ¬Ù‡ Ø±Ø§ ØªÙˆÙ„ÛŒØ¯ Ú©Ù†ÛŒØ¯.'); return; }
  const text = `Ù†ØªØ§ÛŒØ¬ Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡:\nØ¬Ù…Ø¹ Ø³Ø¨Ú© Ø³Ø§Ø²Ù†Ø¯Ù‡: ${r.consTotal}/${r.consMax} (${r.pctCons}%)\nØ¬Ù…Ø¹ Ø³Ø¨Ú© Ù…Ø®Ø±Ø¨: ${r.desTotal}/${r.desMax} (${r.pctDes}%)\n${pageLink}`;
  window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`,'_blank');
}

// ===== Ù…Ø­Ø§ÙØ¸Øª Ø³Ø§Ø¯Ù‡: Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø±Ø§Ø³Øªâ€ŒÚ©Ù„ÛŒÚ© Ùˆ Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ =====
document.addEventListener('contextmenu', function(e){ e.preventDefault(); });
document.addEventListener('keydown', function(e){
  if(e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'Shift' || e.key === 'I' || e.key === 'i')) e.preventDefault();
  if(e.key === 'F12') e.preventDefault();
});

</script>


<style>
/* Ø±Ø§Ø¯ÛŒÙˆØ¨Ø§ØªÙˆÙ† Ø¯Ø±Ø´ØªØŒ Ù‡Ù… Ø¯Ø³Ú©ØªØ§Ù¾ Ù‡Ù… Ù…ÙˆØ¨Ø§ÛŒÙ„ */
input[type="radio"] {
  transform: scale(1.5); /* 1.5 Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø²Ø±Ú¯â€ŒØªØ± */
  margin: 5px; /* ÙØ§ØµÙ„Ù‡ Ú©Ù…ÛŒ Ø¨Ø±Ø§ÛŒ Ø²ÛŒØ¨Ø§ÛŒÛŒ */
  vertical-align: middle;
}
</style>


</body>
</html>
