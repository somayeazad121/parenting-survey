<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ</title>
<style>
body {
    font-family: Tahoma, sans-serif;
    background-color: #d4edda; /* Ø³Ø¨Ø² Ù…Ù„Ø§ÛŒÙ… */
    direction: rtl;
    padding: 20px;
}
.container {
    background-color: #fff;
    padding: 20px 30px;
    border-radius: 10px;
    max-width: 900px;
    margin: auto;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
}
h1 { text-align: center; color: #155724; }
.question { margin-bottom: 15px; }
label { display: block; margin-bottom: 5px; }
input[type=text], select { width: 100%; padding: 8px; margin-bottom: 10px; border-radius:5px; border:1px solid #ccc; }
button { padding: 10px 20px; font-size: 16px; cursor: pointer; background-color:#28a745; color:#fff; border:none; border-radius:5px; }
button:hover { background-color:#218838; }
.result { margin-top: 20px; padding: 15px; background-color: #c3e6cb; border-radius: 8px; }
</style>
</head>
<body>
<div class="container">
<h1>Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ù†Ø¬Ø´ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± ØªØ¦ÙˆØ±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨</h1>
<p>Ù„Ø·ÙØ§Ù‹ Ù…Ø´Ø®ØµØ§Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø³Ø¤Ø§Ù„ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù…Ø§ÛŒÛŒØ¯.</p>

<form id="surveyForm">
<label>Ù†Ø§Ù…:</label>
<input type="text" name="name" required>

<label>Ø¬Ù†Ø³ÛŒØª:</label>
<input type="radio" name="gender" value="Ø²Ù†" required> Ø²Ù†
<input type="radio" name="gender" value="Ù…Ø±Ø¯" required> Ù…Ø±Ø¯

<label>Ø³Ù†:</label>
<input type="text" name="age" required>

<label>ØªØ­ØµÛŒÙ„Ø§Øª:</label>
<input type="text" name="education" required>

<hr>

<div id="questions"></div>

<button type="submit">Ø§Ø±Ø³Ø§Ù„ Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªÛŒØ¬Ù‡</button>
</form>

<div class="result" id="result" style="display:none;"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// ========================= Ø³ÙˆØ§Ù„Ø§Øª =========================
const questions = [
"Ø¯Ø± ØµÙˆØ±Øª Ø¨Ø±ÙˆØ² Ø±ÙØªØ§Ø± Ø§Ø´ØªØ¨Ø§Ù‡ÛŒ Ø§Ø² ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ù‡ Ø§Ùˆ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ù‡ Ø¬Ø¯Ø§ÛŒ Ø§Ø² Ø±ÙØªØ§Ø±Ø´ Ø§Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ù† Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ Ø§Ø³Øª.",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù…Ø³Ø§Ø¦Ù„ Ø´Ø®ØµÛŒ Ø§Ø´ Ù…Ø«Ù„ Ø±ÙˆØ§Ø¨Ø· Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ùˆ ØªØ­ØµÛŒÙ„ÛŒ ...Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯Ø§Ø±Ù….",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…ÛŒ Ú©Ù†Ù… Ùˆ Ø§Ø­Ø³Ø§Ø³ Ù…ÛŒ Ú©Ù†Ù… Ø¨Ù‡ Ø®ÙˆØ¨ÛŒ ÙØ±Ø²Ù†Ø¯Ø§Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù†ÛŒØ³ØªØŒ Ø§ÛŒÙ† Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø±Ø§ Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒ Ú©Ù†Ù….",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ú©Ø§Ø±ÛŒ Ø´Ú©Ø³Øª Ù…ÛŒ Ø®ÙˆØ±Ø¯ØŒ Ø³Ø¹ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ø§Ùˆ Ø±Ø§ Ø¢Ø±Ø§Ù… Ú©Ù†Ù….",
"Ø¯Ø± Ø´Ø±Ø§ÛŒØ·ÛŒ Ú©Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø®ÙˆØ§Ø³ØªÙ‡ ÛŒ Ù…Ø·Ù„ÙˆØ¨Ù… Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ØŒ Ø¨Ù‡ Ø§Ùˆ Ø¨ÛŒØ´ØªØ± Ù…Ø­Ø¨Øª ÛŒØ§ ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù…",
"Ù‡Ù†Ú¯Ø§Ù…ÛŒ Ú©Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù…Ø³Ø§Ø¦Ù„ÛŒ Ù†Ø¸Ø± Ù…ØªÙØ§ÙˆØªÛŒ Ø§Ø² Ù†Ø¸Ø± Ù…Ù† Ø¯Ø§Ø±Ø¯ØŒ Ø¨Ø§ Ú©Ù…Ø§Ù„ Ø¢Ø±Ø§Ù…Ø´ Ø¨Ù‡ Ù†Ø¸Ø±Ø§Øª Ø§Ùˆ ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù….",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… ØªÙˆØ¶ÛŒØ­ Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ù‡ Ú†Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø§Ø² Ù‚ÙˆØ§Ù†ÛŒÙ† Ù¾ÛŒØ±ÙˆÛŒ Ú©Ù†Ø¯.",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù‡Ø´Ø¯Ø§Ø± Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ù‡ Ø§Ú¯Ø± Ø¨Ù‡ ØªÙ‚Ø§Ø¶Ø§ÛŒ Ù…Ù† Ø¹Ù…Ù„ Ù†Ú©Ù†Ø¯ Ø®ÙˆØ§Ø³ØªÙ‡ Ù‡Ø§ÛŒØ´ Ø±Ø§ Ø¨Ø±Ø¢ÙˆØ±Ø¯Ù‡ Ù†Ø®ÙˆØ§Ù‡Ù… Ú©Ø±Ø¯.",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ú¯ÙˆÛŒÙ… Ú©Ù‡ Ø§Ú¯Ø± Ø®ÙˆØ§Ù‡Ø§Ù† Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ù…Ø·Ù„ÙˆØ¨ÛŒ Ø§Ø² Ø·Ø±Ù Ù…Ù† Ø§Ø³ØªØŒ Ø¯Ø± Ø¹ÙˆØ¶ Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ§Ø³ØªÙ‡ Ù‡Ø§ÛŒÙ… Ø±Ø§ Ø§Ø¬Ø§Ø¨Øª Ú©Ù†Ø¯.",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø§ Ø§Ø­ØªØ±Ø§Ù… Ø¨Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø¨Ø±Ø®ÙˆØ±Ø¯ Ù…ÛŒ Ú©Ù†Ø¯ Ø§Ùˆ Ø±Ø§ ØªØ­Ø³ÛŒÙ† Ù…ÛŒ Ú©Ù†Ù….",
"ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ ØªÙˆØ§Ù†Ø¯ Ù‡Ù†Ú¯Ø§Ù… Ø®Ø±ÛŒØ¯ Ø¨Ù‡ Ø³Ù„ÛŒÙ‚Ù‡ Ø®ÙˆØ¯Ø´ Ù‡Ø± Ú†ÛŒØ² Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†Ø¯.",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± ØªÚ©Ø§Ù„ÛŒÙ Ùˆ Ú©Ø§Ø±Ù‡Ø§ÛŒØ´ Ù…ÙˆÙÙ‚ Ù…ÛŒ Ø´ÙˆØ¯ Ø§Ùˆ Ø±Ø§ ØªØ­Ø³ÛŒÙ† Ù…ÛŒ Ú©Ù†Ù….",
"Ø§Ú¯Ø± Ø±Ø§Ø¨Ø·Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù†Ø´ Ù…ÙˆØ±Ø¯ ØªØ§ÛŒÛŒØ¯ Ù…Ù† Ù†Ø¨Ø§Ø´Ø¯ Ø§Ø² Ø§Ùˆ Ø§ÛŒØ±Ø§Ø¯ Ù…ÛŒ Ú¯ÛŒØ±Ù….",
"Ø§Ø² Ø¹Ù…Ù„Ú©Ø±Ø¯ ØªØ­ØµÛŒÙ„ÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ú¯Ù„Ø§ÛŒÙ‡ Ù…ÛŒ Ú©Ù†Ù….",
"ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ ØªÙ‡Ø¯ÛŒØ¯ Ù…ÛŒ Ú©Ù†Ù… Ú©Ù‡ Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÙ‡ Ø§Ù… Ø±Ø§ Ø¹Ù…Ù„ÛŒ Ù†Ú©Ù†Ø¯ØŒ Ù¾ÛŒØ§Ù…Ø¯Ù‡Ø§ÛŒ Ø¨Ø¯ÛŒ Ù…ØªÙˆØ¬Ù‡ Ø§ÙˆØ³Øª.",
"Ù†Ø§Ø±Ø¶Ø§ÛŒØªÛŒ Ø§Ø² Ø´Ø®ØµÛŒØª ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¨Ø±Ø§ÛŒØ´ Ø¨Ø§Ø²Ú¯Ùˆ Ù…ÛŒ Ú©Ù†Ù….",
"Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ Ù…Ø®Ø§Ù„Ù Ø®ÙˆØ§Ø³ØªÙ‡ ÛŒØ§ Ú©Ø§Ø± ÙØ±Ø²Ù†Ø¯Ù… Ù‡Ø³ØªÙ… Ø§Ùˆ Ø±Ø§ ØªØ´ÙˆÛŒÙ‚ Ù…ÛŒ Ú©Ù†Ù… ØªØ§ Ø­Ø±ÙØ´ Ø±Ø§ Ø¨Ø²Ù†Ø¯.",
"Ø³Ø¹ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ú©ÙˆÚ†Ú©ØªØ±ÛŒÙ† Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ù…Ø«Ø¨Øª ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ ØªØ­Ø³ÛŒÙ† Ú©Ù†Ù….",
"Ø¨Ù‡ Ø·ÙˆØ± Ù…Ø±ØªØ¨ Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ú©Ù‡ ÙˆØ¸Ø§ÛŒÙ Ùˆ ØªÚ©Ø§Ù„ÛŒÙØ´ Ø±Ø§ ÙØ±Ø§Ù…ÙˆØ´ Ù†Ú©Ù†Ø¯.",
"ÛŒÚ©ÛŒ Ø§Ø² Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡Ø§ÛŒ Ø·Ø¨ÛŒØ¹ÛŒ Ø®Ø§Ù†Ù‡ Ù…Ø§ Ú¯ÙØªÚ¯ÙˆÙ‡Ø§ÛŒ Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø§Ø³Øª.",
"Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø§Ø² ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø®ÙˆØ§Ù‡Ù… Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ Ø¨Ù‡ Ù…ÛŒÙ„ Ùˆ Ø®ÙˆØ§Ø³ØªÙ‡ Ø§Ùˆ Ù†ÛŒØ² ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù….",
"ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¨Ø§Ø¨Øª Ø§ÛŒÙ†Ú©Ù‡ Ù…Ø§Ù†Ù†Ø¯ Ù‡Ù…Ø³Ø§Ù„Ø§Ù†Ø´ Ù‚Ø§Ø¯Ø± Ù†ÛŒØ³Øª Ø§Ø² Ø¹Ù‡Ø¯Ù‡ ÙˆØ¸Ø§ÛŒÙØ´ Ø¨Ø±Ø¢ÛŒØ¯ Ø³Ø±Ø²Ø´ Ù…ÛŒ Ú©Ù†Ù….",
"Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… ØµØ­Ø¨ØªÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…ÛŒ Ú©Ù†Ø¯ Ø¨Ù‡ Ù†Ø¸Ø±Ù… Ø§Ø±Ø²Ø´ Ú†Ù†Ø¯Ø§Ù†ÛŒ Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ Ø¨Ù‡ ØµØ­Ø¨ØªÙ‡Ø§ÛŒØ´ ØªÙˆØ¬Ù‡ Ù…ÛŒ Ú©Ù†Ù….",
"Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¨Ø§ Ù…Ù† Ø§Ø®ØªÙ„Ø§Ù Ù†Ø¸Ø± Ø¯Ø§Ø±Ø¯ Ø¨Ø§ Ø§Ø­ØªØ±Ø§Ù… Ø¨Ø§ Ø§Ùˆ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ù…ÛŒ Ú©Ù†Ù….",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ú¯ÙˆÛŒÙ… Ú©Ù‡ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø®ÙˆØ¨ ÛŒØ§ Ø¨Ø¯ Ø§Ùˆ Ú†Ú¯ÙˆÙ†Ù‡ ÙÚ©Ø± Ù…ÛŒ Ú©Ù†Ù… Ùˆ Ú†Ù‡ Ø§Ø­Ø³Ø§Ø³ÛŒ Ø¯Ø§Ø±Ù….",
"Ø§Ú¯Ø± Ù†Ø­ÙˆÙ‡ Ø±ÙØªØ§Ø± ÙØ±Ø²Ù†Ø¯Ù… Ø®ÙˆØ´Ø§ÛŒÙ†Ø¯Ù… Ù†Ø¨Ø§Ø´Ø¯ Ø§Ø² Ø§Ùˆ Ø§Ù†ØªÙ‚Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù….",
"Ø§Ú¯Ø± ÙˆØ¶Ø¹ Ø¸Ø§Ù‡Ø±ÛŒ Ùˆ Ù¾ÙˆØ´Ø´ ÙØ±Ø²Ù†Ø¯Ù… Ø®ÙˆØ´Ø§ÛŒÙ†Ø¯ Ù…Ù† Ù†Ø¨Ø§Ø´Ø¯ØŒ Ø§Ø² Ø§Ùˆ Ø§Ù†ØªÙ‚Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù….",
"ÙˆÙ‚ØªÛŒ Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø§Ø¨Ø±Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡ Ùˆ Ù…Ø­Ø¨Øª Ù…ÛŒ Ú©Ù†Ù… Ú©Ù‡ Ø§Ùˆ Ù…Ø·Ø§Ø¨Ù‚ Ù…ÛŒÙ„ Ù…Ù† Ø¹Ù…Ù„ Ú©Ù†Ø¯.",
"Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒ Ø¯Ù‡Ù… ØªØ§ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ Ø¯Ø®Ø§Ù„Øª Ú©Ù†Ø¯ Ùˆ Ù†Ø¸Ø± Ø¯Ù‡Ø¯.",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ø§Ø² Ø¯ÙˆØ³ØªØ§Ù†Ø´ Ø¨Ø±Ø§ÛŒÙ… ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†Ø¯ Ø­ØªÛŒ Ø§Ú¯Ø±  Ø¯ÙˆØ³ØªØ§Ù†Ø´ Ù…ÙˆØ±Ø¯ ØªØ§ÛŒÛŒØ¯ Ù…Ù† Ù†Ø¨Ø§Ø´Ù†Ø¯ Ù‡Ù…Ú†Ù†Ø§Ù† Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø­Ø±ÙÙ‡Ø§ÛŒØ´ Ú¯ÙˆØ´ Ù…ÛŒ Ø¯Ù‡Ù….",
"ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ù…Ø±ØªØ¨ Ø¨Ø§Ø¨Øª Ø§Ø´ØªØ¨Ø§Ù‡Ø§ØªØ´ Ø³Ø±Ø²Ù†Ø´ Ù…ÛŒ Ú©Ù†Ù….",
"Ø§ÙˆÙ‚Ø§Øª Ú¯Ø±Ù… Ùˆ ØµÙ…ÛŒÙ…ÛŒ Ø§ÛŒ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø§Ø±Ù….",
"Ø¯Ø± Ù…Ø´Ú©Ù„Ø§ØªÛŒ Ú©Ù‡ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø§Ø±Ù…ØŒ Ø³Ø¹ÛŒ Ù…ÛŒ Ú©Ù†Ù… Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ù…Ø´Ú©Ù„ Ø¯Ø± ÙˆÙ‚Øª Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø§ Ø§Ùˆ Ø¨Ù‡ Ú¯ÙØªÚ¯Ùˆ Ø¨Ù¾Ø±Ø¯Ø§Ø²Ù….",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ø¯ÙˆØ³ØªØ§Ù†Ø´ Ø±Ø§ Ø¨Ù‡ Ù…Ù†Ø²Ù„ Ø¯Ø¹ÙˆØª Ú©Ù†Ø¯ Ø¨Ø§ Ø§Ùˆ Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ù…ÛŒ Ú©Ù†Ù….",
"Ø¯Ø§Ø¦Ù… Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ù…ÛŒ Ú¯ÙˆÛŒÙ… Ú©Ù‡ Ø­Ø±Ù Ù…Ø±Ø§ Ú¯ÙˆØ´ Ù†Ù…ÛŒ Ú©Ù†Ø¯.",
"Ø§Ú¯Ø± Ù†Ø­ÙˆÙ‡ ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† ÙØ±Ø²Ù†Ø¯Ù… Ø±Ø§ Ø¯ÙˆØ³Øª Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù… Ø§Ø² Ø§Ùˆ Ø§ÛŒØ±Ø§Ø¯ Ù…ÛŒ Ú¯ÛŒØ±Ù….",
"ÙˆÙ‚ØªÛŒ ÙØ±Ø²Ù†Ø¯Ù… Ú©Ø§Ø± Ù†Ø§Ø¯Ø±Ø³Øª ÛŒØ§ Ø§Ø´ØªØ¨Ø§Ù‡ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ ØªØ§ Ù…Ø¯ØªÛŒ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø±Ø®Ø´ Ù…ÛŒ Ú©Ø´Ù….",
"Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯Ù… Ø¯Ø± Ù…ÙˆØ±Ø¯ Ù¾ÛŒØ§Ù…Ø¯ Ùˆ Ù†ØªÛŒØ¬Ù‡ Ú©Ø§Ø±Ù‡Ø§ÛŒØ´ ØªÙˆØ¶ÛŒØ­ Ù…ÛŒ Ø¯Ù‡Ù….",
"Ù‡Ù†Ú¯Ø§Ù… Ù…Ø´Ø§Ø¬Ø±Ù‡ Ø¨Ø§ ÙØ±Ø²Ù†Ø¯Ù…ØŒ Ø§Ùˆ Ø±Ø§ ØªÙ‡Ø¯ÛŒØ¯ Ø¨Ù‡ Ù…Ø­Ø±ÙˆÙ…ÛŒØª Ø§Ø² Ø¨Ø¹Ø¶ÛŒ Ø§Ù…Ú©Ø§Ù†Ø§ØªØ´ Ù…ÛŒ Ú©Ù†Ù….",
"Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¨ÛŒÙ‡ ÙØ±Ø²Ù†Ø¯Ù… Ø§Ø¬Ø§Ø²Ù‡ Ù†Ù…ÛŒ Ø¯Ù‡Ù… Ú©Ø§Ø± Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ Ø§Ø´ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯ ÛŒØ§ Ø§Ø² ÙˆØ³Ø§ÛŒÙ„ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ Ø§Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯."
];

// Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§
const options = ["Ù‡Ù…ÛŒØ´Ù‡", "Ø§ØºÙ„Ø¨ Ø§ÙˆÙ‚Ø§Øª", "Ú¯Ø§Ù‡ÛŒ Ø§ÙˆÙ‚Ø§Øª", "Ø¨Ù‡ Ù†Ø¯Ø±Øª", "Ù‡Ø±Ú¯Ø²"];
const scores = [4,3,2,1,0];

// ========================= ØªÙˆÙ„ÛŒØ¯ ÙØ±Ù… Ø³ÙˆØ§Ù„Ø§Øª =========================
const container = document.getElementById("questions");
questions.forEach((q,i)=>{
    let div = document.createElement("div");
    div.className = "question";
    let html = `<label>${i+1}. ${q}</label>`;
    options.forEach((opt,j)=>{
        html += `<input type="radio" name="q${i+1}" value="${scores[j]}" required> ${opt} `;
    });
    div.innerHTML = html;
    container.appendChild(div);
});

// ========================= Ø§Ø±Ø³Ø§Ù„ ÙØ±Ù… =========================
const form = document.getElementById("surveyForm");
form.addEventListener("submit", async function(e){
    e.preventDefault();
    const formData = new FormData(form);
    const data = {};
    formData.forEach((value,key)=>{ data[key]=value; });

    try {
        const res = await fetch("https://script.google.com/macros/s/AKfycbwRaIL9Qy2yHrdIhzMTB0RKE3PivbUgac3ZfyUzBCTkPJT2homKJ_C-jfcSeSrNZ41Dug/exec", {
            method: "POST",
            body: JSON.stringify(data)
        });
        const resultData = await res.json();

        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†Ù…Ø±Ø§Øª Ø®Ø±Ø¯Ù‡ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ‡Ø§
        const constructive = {
            Supporting: [1,4,17],
            Encouraging: [10,12,18,32],
            Listening: [23,30,8],
            Accepting: [6,11,29,34],
            Trusting: [2],
            Respecting: [21,24],
            Negotiating: [7,20,25,33,38]
        };
        const destructive = {
            Criticizing: [13,26,27,36],
            Blaming: [22,31],
            Complaining: [3,14,16],
            Nagging: [19,35,37],
            Threatening: [8,15,39],
            Punishing: [40],
            Bribing: [5,9,28]
        };

        function calcScores(mapping){
            let scoresObj = {};
            let total = 0;
            for(const [k,arr] of Object.entries(mapping)){
                let sum=0;
                arr.forEach(idx=>{
                    let val = parseInt(data[`q${idx}`]);
                    sum += val;
                });
                scoresObj[k]=sum;
                total += sum;
            }
            return {scoresObj, total};
        }

        const cons = calcScores(constructive);
        const des = calcScores(destructive);

        // Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ù†Ù…Ø±Ù‡ Ùˆ Ø¯Ø±ØµØ¯
        const maxCons = Math.max(...Object.values(cons.scoresObj));
        const maxDes = Math.max(...Object.values(des.scoresObj));

        let resultHtml = `<h3>Ù†ØªØ§ÛŒØ¬ Ø´Ù…Ø§:</h3>`;
        resultHtml += `<h4>Ø³Ø¨Ú© Ø³Ø§Ø²Ù†Ø¯Ù‡:</h4><ul>`;
        for(const [k,v] of Object.entries(cons.scoresObj)){
            let percent = ((v / cons.total) * 100).toFixed(1);
            let highlight = (v===maxCons) ? " ğŸ”¹" : "";
            resultHtml += `<li>${k}: ${v} (${percent}%)${highlight}</li>`;
        }
        resultHtml += `</ul><h4>Ø³Ø¨Ú© Ù…Ø®Ø±Ø¨:</h4><ul>`;
        for(const [k,v] of Object.entries(des.scoresObj)){
            let percent = ((v / des.total) * 100).toFixed(1);
            let highlight = (v===maxDes) ? " ğŸ”¹" : "";
            resultHtml += `<li>${k}: ${v} (${percent}%)${highlight}</li>`;
        }
        resultHtml += `</ul>`;

        // Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
        resultHtml += `<button id="downloadPdf">Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF Ù†ØªÛŒØ¬Ù‡</button>`;
        document.getElementById("result").innerHTML = resultHtml;
        document.getElementById("result").style.display = "block";

        document.getElementById("downloadPdf").addEventListener("click", ()=>{
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFont("Tahoma");
            doc.setFontSize(12);
            let y = 10;
            doc.text("Ù†ØªØ§ÛŒØ¬ Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡ Ø³Ø¨Ú© ÙØ±Ø²Ù†Ø¯Ù¾Ø±ÙˆØ±ÛŒ", 10, y);
            y+=10;
            for(const [k,v] of Object.entries(cons.scoresObj)){
                doc.text(`${k}: ${v}`,10,y);
                y+=10;
            }
            for(const [k,v] of Object.entries(des.scoresObj)){
                doc.text(`${k}: ${v}`,10,y);
                y+=10;
            }
            doc.save("Ù†ØªØ§ÛŒØ¬_Ù¾Ø±Ø³Ø´Ù†Ø§Ù…Ù‡.pdf");
        });

    } catch(err){
        alert("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§: "+err);
    }
});
</script>
</div>
</body>
</html>
